<mat-tab-group>

  <!-- viewer preference -->
  <mat-tab label="Viewer Preference">
    
    <div [ngSwitch]="panelMode$ | async" class="d-flex flex-row p-2">
      <layout-four-panel
        *ngSwitchCase="supportedPanelModes[0]"
        class="d-block w-20em h-15em cdk-drag-boundary">
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-i>
          <div
            [attr.panel-order]="0"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[0] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-ii>
          <div
            [attr.panel-order]="1"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[1] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-iii>
          <div
            [attr.panel-order]="2"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[2] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-iv>
          <div
            [attr.panel-order]="3"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[3] }}
          </div>
        </div>
      </layout-four-panel>
      <layout-horizontal-one-three
        *ngSwitchCase="supportedPanelModes[1]"
        class="d-block w-20em h-15em">
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-i>
          <div
            [attr.panel-order]="0"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[0] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-ii>
          <div
            [attr.panel-order]="1"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[1] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-iii>
          <div
            [attr.panel-order]="2"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[2] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-iv>
          <div
            [attr.panel-order]="3"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[3] }}
          </div>
        </div>
      </layout-horizontal-one-three>
      <layout-vertical-one-three
        *ngSwitchCase="supportedPanelModes[2]"
        class="d-block w-20em h-15em">
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-i>
          <div
            [attr.panel-order]="0"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[0] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-ii>
          <div
            [attr.panel-order]="1"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[1] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-iii>
          <div
            [attr.panel-order]="2"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[2] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-iv>
          <div
            [attr.panel-order]="3"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[3] }}
          </div>
        </div>
      </layout-vertical-one-three>
      <layout-single-panel
        *ngSwitchCase="supportedPanelModes[3]"
        class="d-block w-20em h-15em">
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-i>
          <div
            [attr.panel-order]="0"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[0] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-ii>
          <div
            [attr.panel-order]="1"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[1] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-iii>
          <div
            [attr.panel-order]="2"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[2] }}
          </div>
        </div>
        <div
          matRipple
          (dragstart)="handleDragStart($event)"
          (dragover)="handleDragOver($event)"
          (dragleave)="handleDragLeave($event)"
          (drop)="handleDrop($event)"
          class="w-100 h-100 config-transition"
          cell-iv>
          <div
            [attr.panel-order]="3"
            class="config-transition w-100 h-100 d-flex align-items-center justify-content-center border"
            draggable="true">
            {{ (panelTexts$ | async)[3] }}
          </div>
        </div>
      </layout-single-panel>
      <div *ngSwitchDefault>
        A panel mode which I have never seen before ...
      </div>
    </div>

    <!-- scroll window -->
    <div class="d-flex flex-row flex-nowrap p-2">

      <!-- Four Panel Card -->
      <button
        class="m-2 p-2"
        mat-flat-button
        (click)="usePanelMode(supportedPanelModes[0])"
        [color]="(panelMode$ | async) === supportedPanelModes[0] ? 'primary' : null">
        <layout-four-panel class="d-block w-10em h-7em">
          <div cell-i></div>
          <div cell-ii></div>
          <div cell-iii></div>
          <div cell-iv></div>
        </layout-four-panel>
      </button>

      <!-- horizontal 1 3 card -->
      <button
        class="m-2 p-2"
        mat-flat-button
        (click)="usePanelMode(supportedPanelModes[1])"
        [color]="(panelMode$ | async) === supportedPanelModes[1] ? 'primary' : null">
        <layout-horizontal-one-three class="d-block w-10em h-7em">
          <div cell-i></div>
          <div cell-ii></div>
          <div cell-iii></div>
          <div cell-iv></div>
        </layout-horizontal-one-three>
      </button>
  
      <!-- vertical 1 3 card -->
      <button
        class="m-2 p-2"
        mat-flat-button
        (click)="usePanelMode(supportedPanelModes[2])"
        [color]="(panelMode$ | async) === supportedPanelModes[2] ? 'primary' : null">
        <layout-vertical-one-three class="d-block w-10em h-7em">
          <div cell-i></div>
          <div cell-ii></div>
          <div cell-iii></div>
          <div cell-iv></div>
        </layout-vertical-one-three>
      </button>

      <!-- single -->
      <button
        class="m-2 p-2"
        mat-flat-button
        (click)="usePanelMode(supportedPanelModes[3])"
        [color]="(panelMode$ | async) === supportedPanelModes[3] ? 'primary' : null">
        <layout-single-panel class="d-block w-10em h-7em">
          <div cell-i></div>
          <div cell-ii></div>
          <div cell-iii></div>
          <div cell-iv></div>
        </layout-single-panel>
      </button>
    </div>
  </mat-tab>

  <!-- hard ware -->
  <mat-tab label="Hardware">
    <div class="d-flex align-items-center">
      <mat-slide-toggle
        [checked]="animationFlag$ | async"
        (change)="toggleAnimationFlag($event)">
        Enable Animation
      </mat-slide-toggle>
      <small [matTooltip]="ANIMATION_TOOLTIP" class="ml-2 fas fa-question"></small>
    </div>
    <div class="d-flex flex-row align-items-center justify-content start">
      <label
        class="m-0 d-inline-block flex-grow-0 flex-shrink-0"
        for="gpuLimitSlider">
        GPU Limit
        <small [matTooltip]="GPU_TOOLTIP" class="ml-2 fas fa-question"></small>
      </label>
      <mat-slider
        class="flex-grow-1 flex-shrink-1 ml-2 mr-2"
        id="gpuLimitSlider"
        name="gpuLimitSlider"
        thumbLabel="true"
        min="100"
        max="1000"
        [step]="stepSize"
        (change)="handleMatSliderChange($event)"
        [value]="gpuLimit$ | async">
      </mat-slider>
      <span class="d-inline-block flex-grow-0 flex-shrink-0 w-10em">
        {{ gpuLimit$ | async }} MB
      </span>
    </div>

    
  </mat-tab>

</mat-tab-group>

