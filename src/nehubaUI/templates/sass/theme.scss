$WHITE : rgb(255,255,255);
$BLACK : rgb(0,0,0);
$GOLDEN : rgb(244,212,48);
$DARKGOLDEN : rgb(200,160,0);
$BORDERWIDTH : 2px;
@function gray($percent){
    @return rgb($percent*255,$percent*255,$percent*255)
};
@function tgray($percent,$alpha){
    @return rgba($percent*255,$percent*255,$percent*255,$alpha)
};

#ATLASContainer{
    background-color:$WHITE;
    color:$BLACK;
    height:100%;
    width:100%;
    display:grid;
    grid-template-columns:15% 85%;
    grid-template-rows:8% 92%;
    
    atlasbanner{
        grid-column-start:1;
        grid-column-end:span 2;
    }
    
    atlascontrol{
        grid-column-start:1;
        grid-column-end:span 1;
        grid-row-start:2;
        grid-row-end:span 1;
        
        div#leftSide{
            height:100%;
            width:100%;
            display:grid;
            grid-template-rows:auto 40px;

            div#leftSideTop{
                grid-row-start:1;
                grid-row-end:span 1;
                overflow-y:auto;
                overflow-x:hidden;
            }

            div#leftSideBottom{
                grid-row-start:2;
                grid-row-end:span 1;
                text-align: center;
            }
        }
    }
    
    ATLASViewer{
        grid-column-start:2;
        grid-column-end:span 1;
        grid-row-start:2;
        grid-row-end:span 1;
        z-index:5;

        div#container{
            height:100%;
            width:100%;

            .gllayoutcell{
                border: $BORDERWIDTH solid gray(0.95)
            }

            .gllayoutcell:hover{
                border :$BORDERWIDTH solid gray(0.8)
            }

            .scale-bar-container{
                color : gray(0.05);
                background-color : tgray(0.3,0.2)
            }
        }

        div#container.darktheme{
            height:100%;
            width:100%;

            .gllayoutcell{
                border: $BORDERWIDTH solid gray(0.05)
            }

            .gllayoutcell:hover{
                border :$BORDERWIDTH solid gray(0.2)
            }

            .scale-bar-container{
                color : gray(0.95);
                background-color : tgray(0.6,0.2)
            }
        }
    }
}

%darkthemetemplate{
    background-color : gray(0.2);
    color : gray(0.8);
}

#ATLASContainer{
    atlascontrol{
        box-shadow: -0.3em 0.3em 1em gray(0.1);
        margin-top:5px;
        div
        {
            .list-group
            {
                .list-group-item
                {
                    margin : 0 1em 0 0;
                }
                textarea.form-control
                {
                    resize:vertical;
                }
            }
            .text-muted
            {
                text-decoration: line-through
            }
        }
    } 
    
    &.darktheme
    {
        background-color:gray(0.2);
    }
}

atlasbanner{
    div#bannerContainer{
        height:100%;
        background-color:gray(0.98);
        display:flex;
        font-weight:100;

        %img{
            height:100%;
            flex: 0 0 auto;
            background-size:contain;
        }

        img#hbplogo{
            @extend %img;
            margin:auto;
            height:70%;
        }
        img#explorethebrain{
            @extend %img;
        }

        img#cofundedbyEU{
            @extend %img;
            margin:auto;
            height:70%;
        }

        div#bannerTitle{
            flex: 1 1 auto;
            h2{
                text-align: center;
                vertical-align: middle;
                font-weight: 100;
                font-size : 2.2vw;
                color :gray(0.3);
            }
            small{
                color: #c33;
            }
        }
    }

    div#bannerContainer.darktheme{
        @extend div#bannerContainer;
        background-color:gray(0.2);

        div#bannerTitle{
            h2{
                color:gray(1);
            }
            small{
                color:rgb(255,160,160);
            }
        }

        span.unicodeSymbols{
            color:gray(1);
        }

            span.unicodeSymbols:hover{
                color:$GOLDEN;
                cursor:pointer;
            }
    }
}

atlasviewer{
    position:relative;
    background-color:gray(0.97);
    box-shadow: 0.3em 0.3em 1em gray(0.1);

    div#container{
        position:absolute;
        left:0px;
        top:0px;
        width:100%;
        height:100%;
        z-index:9;
    }

    %glyphiconBtn
    {
        color:gray(0.0);
        text-shadow:0 0 1em gray(0.3);
        position:absolute;
        z-index:10;
        font-size:2em;

        &.darktheme
        {
            text-shadow:0 0 0.3em gray(1);
        }

        &.darktheme:hover
        {
            color:gray(1);
            cursor:pointer;
        }

        &:hover
        {
            color:gray(1);
            cursor:pointer;
        }
    }

    span#helpbutton{
        @extend %glyphiconBtn;
        right:0.3em;
        top:0.3em;
    }

    span#hideUI{
        @extend %glyphiconBtn;
        right:1.6em;
        top:0.3em;
    }

}

FloatingWidgetContainer{
    position:absolute;
    right:0;
    bottom:0;
    width:0;
    height:0;

    div.floatingWidget{
        position:absolute;
        width:300px;
        z-index:100;
        div.panel{
            div.panel-heading.moveable{
                &:hover{
                    cursor:move;
                }
            }
        }
    }
}

atlascontrol
{
    div#leftSide
    {
        div.leftSideSubSection#leftSideTop
        {
            div.modePanel
            {
                .btn.btn-block.btn-default
                {
                    margin-top : 0px;
                    margin-bottom : 0px;
                    width : 100%;
                    border-radius:0px;
                    z-index : 4;

                    overflow:hidden;
                    padding : 20px 5px 20px 25px;
                    text-align: left;

                    &.inactive
                    {
                        color:gray(0.8);
                        &:hover
                        {
                            cursor:not-allowed;
                        };
                    }
                }
                
                .list-group
                {
                    width : 120%;
                    margin-left : -10%;
                    padding-left : 10%;
                    padding-right : 10%;
                    overflow : hidden;
                    margin-bottom : 0px;
                    z-index : 3;
                    box-shadow : inset 0 0 1em -0.5em gray(0.5);
                    background-color:gray(0.98);

                    .list-group-item
                    {
                        width:100%;
                        display:flex;
                        border-radius : 0px;
                        color:gray(0.3);
                        padding-left:40px;
                        background-color:tgray(0,0);

                        .list-group-item-name
                        {
                            flex: 1 1 auto;
                            align-self: center;
                        };

                        .list-group-item-icon
                        {
                            flex: 0 0 1.6em;
                            align-self: center;
                            text-align:center;
                            &:hover
                            {
                                color:goldenrod;
                                &.active
                                {
                                    background-color:gray(0.98);
                                }
                            };
                        };

                        &:hover
                        {
                            cursor:pointer;
                            &:not(.active)
                            {
                                background-color:tgray(0.5,0.1);
                                color:gray(0);
                            }
                        };

                        &.active
                        {
                            border-color:gray(0.67);
                            background-color:$GOLDEN;
                            color:gray(1);
                        }

                        &.nohover:hover
                        {
                            cursor:default;
                            background-color:tgray(0,0);
                        };
                    };


                    .multiSelectPills
                    {
                        display:inline-block;
                        padding:0.2em 0.4em;
                        border-radius: 0.4em;
                        margin-left:0.2em;
                        margin-right:0.2em;
                        margin-bottom:0.1em;
                        color:gray(0.2);
                        background-color: gray(0.98);
                        box-shadow:0 0 1em -0.5em gray(0.5);

                        &:first-child
                        {
                            margin-top:10px;
                        }

                        &:last-child
                        {
                            margin-bottom:10px;
                        }

                        &:hover
                        {
                            cursor:default;
                        }
                    };
                    
                    span.unicodeSymbols
                    {
                        margin-right:5px;

                        &:hover
                        {
                            cursor:default;
                        };
                    };
                };
                
            }
        };

        div.leftSideSubSection.darktheme#leftSideTop
        {
            @extend %darkthemetemplate;
            background-color:gray(0.2);
            div.modePanel
            {
                @extend %darkthemetemplate;
                background-color:gray(0.2);

                .list-group
                {
                    @extend %darkthemetemplate;
                    background-color:gray(0.15);
                    box-shadow : inset 0 0 1em -0.5em gray(0);

                    .list-group-item
                    {
                        border : 1px solid tgray(0.15,0);
                        margin : 0 1em 0 0;
                        background-color:tgray(0,0);
                        color:gray(0.6);

                        .text-muted
                        {
                            text-decoration: line-through;
                            color : gray(0.5);
                        }
                        &.active
                        {
                            @extend %darkthemetemplate;
                            background-color:$DARKGOLDEN;
                            color:gray(1);

                            .list-group-item-icon
                            {
                                &:hover
                                {
                                    color:gray(0.10);
                                }
                            };
                        };
                        &:not(.nohover)
                        {
                            &:hover
                            {
                                &:not(.active)
                                {
                                    color:gray(0.55);
                                    background-color:tgray(0,0.08);
                                }
                            };
                        };
                        &.nohover
                        {
                            input{
                                @extend %darkthemetemplate;
                                color:gray(1);
                                border-color:gray(0.1);
                                background-color:gray(0.10);
                                box-shadow:inset 0 0 1em -0.3em gray(0);
                                
                                &::-moz-placeholder
                                {
                                    color:tgray(1,0.4);
                                };
                                &::-webkit-input-placeholder{
                                    color:tgray(1,0.4);
                                };
                            }
                            &:hover
                            {
                                cursor:default;
                            }

                            .menuItemContentList
                            {

                                &:hover
                                {
                                    background-color:gray(0.2);
                                }
                            }
                        };
                        lab
                        {
                            div#labContainer
                            {
                                div.btn.btn-default
                                {
                                    @extend %darkthemetemplate;
                                    border:none;
                                    box-shadow: 0 0 1em -0.3em gray(0);

                                    &:hover
                                    {
                                        background-color:gray(0.18)
                                    }
                                }
                            }
                        }
                    };
                    .subPanel
                    {
                        @extend %darkthemetemplate;
                        .well
                        {
                            background-color:gray(0.0);
                            color:gray(0.6);
                            border: solid 1px gray(0.3);
                            .form-group{
                                input[type=text],textarea{
                                    @extend %darkthemetemplate;
                                    border:1px solid gray(0.1);
                                    background-color:gray(0.2);
                                    color:gray(1);
                                }
                            };
                        };
                    };
                    
                    div.multiSelectPills
                    {
                        color:gray(0.6);
                        background-color: gray(0.2);
                        box-shadow:0 0 1em -0.3em gray(0);
                    };
                };
                .btn.btn-lg.btn-default
                {
                    @extend %darkthemetemplate;
                    border-top:1px solid gray(0.25);
                    border-bottom:1px solid gray(0.25);
                    border-left:none;
                    border-right:none;
                    &:hover
                    {
                        background-color:gray(0.18)
                    };

                    &.inactive
                    {
                        color : gray(0.4);
                    };
                };
            }
        };

        div.leftSideSubSection#leftSideBottom
        {

        }

        div.leftSideSubSection.darktheme#leftSideBottom
        {
            .btn.btn-default
            {
                border : 1px solid gray(0.1);

                &:not(.active)
                {
                    color:gray(0.8);
                    background-color:gray(0.3);
                    box-shadow: 0 0 1em -0.5em gray(0.1);
                    &:hover
                    {
                        background-color:gray(0.28);
                    }
                };

                &.active
                {
                    background-color:gray(0.18);
                    color:gray(1.0);
                    box-shadow: inset 0 0 1em 0em gray(0);
                }
            };
        }
    };
}

div.darktheme.leftSideSubSection
{

    %popovertemplate
    {
        background-color : gray(0.2);
        color : gray(0.8);
    };

    popover-container.popover
    {
        border:1px solid tgray(255,0.2);
        box-shadow: 0 5px 10px tgray(1,0.2 );
        background-color : gray(0);

        .popover-arrow{
            border-color:transparent;
            border-right-color : tgray(1,0.2);
        };
        .popover-arrow:after{
            border-color:transparent;
            border-right-color : gray(0);
        }

        .popover-title{
            @extend %popovertemplate;
            border-bottom: 1px solid gray(0.08);
        };

        .popover-content{
            @extend %popovertemplate;
            background-color:gray(0);
        };
    };
};

div.darktheme
{
    multilevel.menuItemContentText
    {
        color:#636363;
        width:100%;
        div.menuItem
        {
            width:100%;
            overflow:hidden;
            display:block;
            padding:0em;
            
            /* debug only */
            /*outline-style:dashed;
            outline-width:1px;
            outline-color:#fff;*/

            &:hover
            {
            /* debug only */
            /*outline-style:dashed;
            outline-width:1px;
            outline-color:#cacaca;*/
            };

            
            div.menuItemTitle
            {
                width:100%;
                font-size:1.4em;
                padding:1.0em 10%;
                font-weight: 100;
                color:#636363;
                background-color:#eef;
                transition: 300ms;
            
                overflow:hidden;
                white-space: nowrap;
                &:hover
                {
                    background-color:#bbf;
                    color:#000000;
                    cursor:pointer;
                };
                .inactive
                {
                    background-color:#eeeeee;
                    color:#aeaeae;
                    &:hover
                    {
                        background-color:#dddddd;
                        cursor:not-allowed;
                    };
                };
            };


            div.menuItemContent
            {
                width:100%;
                overflow:hidden;
                white-space: nowrap;
                transition: height 250ms;

                div.menuItemContentList
                {
                    color : gray(0.85);
                    &:hover
                    {
                        color:gray(0.85);
                        background-color:tgray(1.0,0.08);
                        cursor:pointer;
                    };

                    span.multilevel-icon
                    {
                        &:hover
                        {
                            background-color:gray(0.25);
                        }
                    }
                };
            };
        };
    };
}

div
{
    multilevel.menuItemContentText
    {
        color:#636363;
        width:100%;
        div.menuItem
        {
            width:100%;
            overflow:hidden;
            display:block;
            padding:0em;
            
            /* debug only */
            /*outline-style:dashed;
            outline-width:1px;
            outline-color:#fff;*/

            &:hover
            {
            /* debug only */
            /*outline-style:dashed;
            outline-width:1px;
            outline-color:#cacaca;*/
            };

            
            div.menuItemTitle
            {
                width:100%;
                font-size:1.4em;
                padding:1.0em 10%;
                font-weight: 100;
                color:#636363;
                background-color:#eef;
                transition: 300ms;
            
                overflow:hidden;
                white-space: nowrap;
                &:hover
                {
                    background-color:#bbf;
                    color:#000000;
                    cursor:pointer;
                };
                .inactive
                {
                    background-color:#eeeeee;
                    color:#aeaeae;
                    &:hover
                    {
                        background-color:#dddddd;
                        cursor:not-allowed;
                    };
                };
            };


            div.menuItemContent
            {
                width:100%;
                overflow:hidden;
                white-space: nowrap;
                transition: height 250ms;

                div.menuItemContentList
                {
                    color:#636363;
                    padding-left:5%;
                    padding-right:1%;
                    padding-top:0.4em;
                    padding-bottom:0.4em;
                    transition: 300ms;
                    &:hover
                    {
                        color:#000;
                        background-color:#f5f5f5;
                        cursor:pointer;
                    };
                };
            };
        };
    };
}

.glyphicon.glyphicon-none:before
{
    content: "\2122";
    color: transparent !important;
}